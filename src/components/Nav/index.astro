---
import { getCurrentLocale, useTranslations } from "@/src/i18n/utils";
import { Logo } from "@components/Logo";
import LinkButton from "@components/LinkButton/index.astro";
import { Icon } from "../Icon";

const currentLocale = getCurrentLocale(Astro.url.pathname);
// We force the logo to the accent color only on the homepage
const pathMinusLocale = Astro.url.pathname.replace(`/${currentLocale}`, "");
const isHomepage = pathMinusLocale === "/";
const t = await useTranslations(currentLocale);
---

<nav class="border-r border-sidebar-type-color">
  <div class="flex w-full h-full flex-col justify-between">
    <ul class="px-md py-sm">
      <li class="inline-block md:block w-[120px] mb-sm">
        <a
          href="/"
          class={`${isHomepage ? "text-logo-color" : "text-sidebar-type-color"}`}
        >
          <Logo />
        </a>
      </li>
      <li class="inline-block md:block">
        <a href="/reference">{t("Reference")}</a>
      </li>
      <li class="inline-block md:block">
        <a href="/tutorials">{t("Tutorials")}</a>
      </li>
      <li class="inline-block md:block">
        <a href="/examples">{t("Examples")}</a>
      </li>
      <li class="inline-block md:block">
        <a href="/contribute">{t("Contribute")}</a>
      </li>
      <li class="inline-block md:block">
        <a href="/community">{t("Community")}</a>
      </li>
      <li class="inline-block md:block"><a href="/about">{t("About")}</a></li>
    </ul>
    <ul class="px-md py-sm">
      <li class="mb-sm">
        <LinkButton
          className="w-full px-[0.3rem]"
          url="https://editor.p5js.org"
        >
          <div class="mr-xxs">
            <Icon kind="code-brackets" />
          </div>
          {t("Start Coding")}
        </LinkButton>
      </li>
      <li>
        <LinkButton className="w-full px-[0.3rem]" url="/donate">
          <div class="mr-xxs">
            <Icon kind="heart" />
          </div>
          {t("Donate")}
        </LinkButton>
      </li>
    </ul>
  </div>
</nav>
