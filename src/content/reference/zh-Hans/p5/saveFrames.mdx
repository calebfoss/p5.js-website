---
title: saveFrames
module: 图像
submodule: 图像
file: src/image/image.js
description: |2

  <p>Captures a sequence of frames from the canvas that can be saved as
  images.</p>


  <p><code>saveFrames()</code> creates an array of frame objects. Each frame is
  stored as


  an object with its file type, file name, and image data as a string. For


  example, the first saved frame might have the following properties:</p>


  <p><code>{ ext: "'png', filenmame: 'frame0', imageData:"
 "'data":"image/octet-stream;base64, abc123' }</code>.</p>"


  <p>The first parameter, <code>filename</code>, sets the prefix for the file
  names. For


 "example, setting the prefix to <code>'frame'</code> would generate the image"
  files


  <code>frame0.png</code>, <code>frame1.png</code>, and so on.</p>


  <p>The second parameter, <code>extension</code>, sets the file type to either
 "<code>'png'</code> or"


 "<code>'jpg'</code>.</p>"


  <p>The third parameter, <code>duration</code>, sets the duration to record in
  seconds.


  The maximum duration is 15 seconds.</p>


  <p>The fourth parameter, <code>framerate</code>, sets the number of frames to
  record per


  second. The maximum frame rate value is 22. Limits are placed on
  <code>duration</code>


  and <code>framerate</code> to avoid using too much memory. Recording large
  canvases


  can easily crash sketches or even web browsers.</p>


  <p>The fifth parameter, <code>callback</code>, is optional. If a function is
  passed,


 "image files won't be saved by default. The callback function can be used"


  to process an array containing the data for each captured frame. The array


  of image data contains a sequence of objects with three properties for each


  frame: <code>imageData</code>, <code>filename</code>, and
  <code>extension</code>.</p>


  <p>Note: Frames are downloaded as individual image files by default.</p>
line: '558'
isConstructor: 'false'
itemtype: method
example:
  - |2-



  <div>


  <code>


  function setup() {

 "createCanvas(100, 100);"



 "describe('A square repeatedly changes color from blue to pink.');"

  }




  function draw() {

 "let r = frameCount % 255;"

 "let g = 50;"

 "let b = 100;"

 "background(r, g, b);"

  }




 "// Save the frames when the user presses the 's' key."


  function keyPressed() {

 "if (key === 's') {"

 "saveFrames('frame', 'png', 1, 5);"

    }

  }


  </code>


  </div>




  <div>


  <code>


  function setup() {

 "createCanvas(100, 100);"



 "describe('A square repeatedly changes color from blue to pink.');"

  }




  function draw() {

 "let r = frameCount % 255;"

 "let g = 50;"

 "let b = 100;"

 "background(r, g, b);"

  }




  // Print 5 frames when the user presses the mouse.


  function mousePressed() {

 "saveFrames('frame', 'png', 1, 5, printFrames);"

  }




  // Prints an array of objects containing raw image data, filenames, and
  extensions.


  function printFrames(frames) {

    for (let frame of frames) {

 "print(frame);"

    }

  }


  </code>


  </div>
class: p5
params:
  - name: filename
  description: |2-

    <p>文件名前缀。</p>
  type: 字符串
  - name: extension
  description: |2-

    <p>文件扩展名，“jpg” 或 “png”。</p>
  type: 字符串
  - name: duration
  description: |2-

    <p>录制的持续时间以秒为单位。该参数将被限制为小于或等于 15。</p>
  type: 数字
  - name: framerate
  description: |2

    <p>number of frames to save per second. This parameter will be constrained
    to be less or equal to 22.</p>
  type: 数字
  - name: callback
  description: |2-

    <p>回调函数将被用来处理图像数据。这个函数应该接受一个数组作为参数。这数组将包含指定数量对象的帧。每个对象有三个属性：<code>imageData</code>、<code>filename</code>和<code>extension</code>。</p>
  type: 函数(数组)
  optional: 'true'
chainable: 'false'
---

# saveFrames
