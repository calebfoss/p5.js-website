---
title: while
module: 基础
submodule: 基础
file: src/core/reference.js
description: >
  <p>重复一段代码的方法。</p>

  <p><code>while</code> 循环有助于在条件为 <code>true</code> 时重复执行语句。类似于重复的 <code>if</code> 语句。例如，<code>while</code> 循环可以很容易地表达“画几条线”的想法，就像这样：</p>

  <code>

// Use a string literal.

text('Hello!', 10, 10);

  </code>

  <code>

// Create a string variable.

let message = 'Hello!';

  <p>// Use the string variable.

text(message, 10, 10);

  </p></code>

  <p>创建字符串最常见的方式是使用引号，如下所示：</p>

  <code>

text("hi", 50, 50);

  </code>

  <code>

text('hi', 50, 50);

  </code>

  <code>

text(`hi`, 50, 50);

  </code>

  <p><code>"hi"</code>， <code>'hi'</code> 和 <code>hi</code> 都是字符串字面值。"字面值"意味着实际写入了一个值，如 <code>text('hi', 50, 50)</code>。相比之下，<code>text(message, 50, 50)</code> 使用变量 <code>message</code>，因此它不是字符串字面值。</p>

  <p>单引号 <code>''</code> 和双引号 <code>""</code> 意思相同。这两种引号的好处是，当字符串本身包含其中一种引号时，可以用另一种引号将它们区分开。</p>

  <code>

text("What's up?", 50, 50);

  </code>

  <code>

text('Air quotes make you look "cool."', 50, 50);

  </code>

  <p>反引号 `` 创建模板字面量。模板字面量有许多用途。例如，它们可以根据需要包含单引号和双引号：</p>

  <code>

text(`"Don't you forget about me"`, 10, 10);

  </code>

  <p>当字符串是在变量的基础上创建时，模板字面量就非常有用，就像这样：</p>

  <code>

let size = random(10, 20);

circle(50, 50, size);

  <p>text(<code>The circle's diameter is ${size} pixels.</code>,  10, 10);

  </p></code>

  <p>创建字符串时，变量 <code>size</code> 的值将会替换 <code>${size}</code>。<code>${}</code> 任何值的占位符，这意味着可以使用这样的表达式：<code>${round(PI, 3)}</code>。以下所有内容都是有效的模板字面量：</p>

  <code>

text(`π is about ${round(PI, 2)} pixels.`, 10, 10);

text(`It's ${mouseX < width / 2} that I'm on the left half of the canvas.`,
10, 30);

  </code>

  <p>模板字面量可以包含多个变量：</p>

  <code>

let x = random(0, 100);

let y = random(0, 100);

let size = random(10, 20);

circle(x, y, size);

  <p>text(<code>The circle at (${x}, ${y}) has a diameter of ${size}
  pixels.</code>,  10, 10);

  </p></code>

  <p>模板字面量还有助于创建多行文本，就像这样：</p>

  <code>

let poem = `My sketch doesn't run;

it waits for me patiently

while bugs point the way.`;

  <p>text(poem, 10, 10);

  </p></code>

# While

description: >

  <p>重复执行一段代码的方法。</p>

  <p><code>while</code> 循环有助于在条件为 <code>true</code> 时重复执行语句。类似于重复的 <code>if</code> 语句。例如，<code>while</code> 循环可以很容易地表达“画几条线”的想法，就像这样：</p>

  <code>

// Declare a variable to keep track of iteration.

let x = 10;

  <p>// Repeat as long as x < 100

while (x < 100) {
line(x, 25, x, 75);</p>

  <p>  // Increment by 20.
    x += 20;
  }

  </p></code>

  <p>循环的头部以关键字 <code>while</code> 开始。循环通常在重复或迭代时递增或递减。括号中的语句 <code>x < 100</code> 是循环每次迭代时需要判断的条件，如果条件为 <code>true</code>，运行花括号 <code>{}</code> 之间的代码。
  大括号之间的代码称为循环的主体。如果条件为 <code>false</code>，则跳过主体并退出循环。</p>

  <p>意外创建无限循环是很常见的。例如，以下循环永远不会停止迭代，因为它不计数递增：</p>

  <code>

// Declare a variable to keep track of iteration.

let x = 10;

  <p>// Repeat as long as x < 100

while (x < 100) {
line(x, 25, x, 75);
}</p>

  <p>// This should be in the loop's body!

x += 20;

  </p></code>

  <p>语句 <code>x += 20</code> 出现在循环主体之后。这意味着变量 <code>x</code> 的值固定为 <code>10</code>，它始终小于 <code>100</code>。</p>

  <p>当迭代次数不明确时，<code>while</code> 就很有用。例如，可以以随机增量绘制同心圆：</p>

  <code>

let d = 100;

let minSize = 5;

  <p>while (d > minSize) {
    circle(50, 50, d);
    d -= random(10);
  }

  </p></code>
line: 1908
isConstructor: false
itemtype: property
example:
  - |-

    <div>
    <code>
    function setup() {
      createCanvas(100, 100);

      describe('Five black vertical lines on a gray background.');
    }

    function draw() {
      background(200);

      // Declare a variable to keep track of iteration.
      let x = 10;

      // Repeat as long as x < 100
      while (x < 100) {
        line(x, 25, x, 75);

        // Increment by 20.
        x += 20
      }
    }
    </code>
    </div>

    <div>
    <code>
    function setup() {
      createCanvas(100, 100);

      // Slow the frame rate.
      frameRate(5);

      describe(
        "A gray square with several concentric circles at the center. The circles' sizes decrease at random increments."
      );
    }

    function draw() {
      background(200);

      let d = 100;
      let minSize = 5;

      while (d > minSize) {
        circle(50, 50, d);
        d -= random(5, 15);
      }
    }
    </code>
    </div>
class: p5
---


# while
