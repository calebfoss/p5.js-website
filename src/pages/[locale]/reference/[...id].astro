---
import BaseLayout from "@layouts/BaseLayout.astro";
import {
  getCollectionInNonDefaultLocales,
  makeReferencePageSlug,
  splitLocaleFromPath,
} from "@pages/_utils";

export async function getStaticPaths() {
  const referenceEntries = await getCollectionInNonDefaultLocales("reference");

  const paths = referenceEntries.map((entry) => {
    const [locale, _id] = splitLocaleFromPath(entry.id);

    return {
      params: {
        locale,
        id: makeReferencePageSlug(entry.id),
      },
      props: { entry },
    };
  });

  return paths;
}

const { entry } = Astro.props;
---

<BaseLayout title={entry.data.title}>
  <div set:html={entry.data.description} />
</BaseLayout>
