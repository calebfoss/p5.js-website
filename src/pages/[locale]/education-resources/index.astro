---
import BaseLayout from "@layouts/BaseLayout.astro";
import Head from "@components/Head/index.astro";
import { getCollectionInLocaleWithFallbacks } from "@pages/_utils";
import { nonDefaultSupportedLocales } from "@i18n/const";

export async function getStaticPaths() {
  const pages = nonDefaultSupportedLocales.map(async (locale) => ({
    params: {
      locale,
    },
    props: {
      pages: await getCollectionInLocaleWithFallbacks("pages", locale),
      locale,
    },
  }));

  return await Promise.all(pages);
}

const { pages, locale } = Astro.props;
const page = pages.find((page) => page.slug === 'education-resources')!

const { Content } = await page.render();

---

<Head
  title={page.data.title}
  locale={locale}
/>

<BaseLayout
  title={page.data.title}
  subtitle={null}
  variant="item"
  topic="community"
>
  <Content />
</BaseLayout>
